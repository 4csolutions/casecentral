[
 {
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-01-10 17:47:37.422602",
  "module": null,
  "name": "Task Permissions",
  "reference_doctype": "Task",
  "script": "user = frappe.session.user\nroles = frappe.get_all('Has Role', {'parenttype': 'User', 'parent': user}, pluck=\"role\")\nif (not ('Administrator' in roles or 'System Manager' in roles)):\n    search_string = \"%\" + user + \"%\"\n    conditions = \"_assign like '%s'\" % (search_string)",
  "script_type": "Permission Query"
 }
]